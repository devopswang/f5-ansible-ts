---
############
#Add objects
############
- include: bigip_node/add_node.yml 
  when: state == "present"

- include: bigip_pool/manage_pool.yml 
  when: state == "present"

- include: bigip_pool_member/manage_members.yml 
  when: state == "present"

- include: bigip_irule/manage_irule.yml
  when: state == "present"

- include: bigip_monitor_tcp/manage_tcp_monitor.yml
  when: state == "present"

- include: bigip_monitor_http/manage_http_monitor.yml
  when: state == "present"

- include: bigip_virtual_server/manage_vip.yml 
  when: state == "present"


###############
#Remove objects
###############
- include: bigip_virtual_server/manage_vip.yml
  when: state == "absent"

- include: bigip_irule/manage_irule.yml
  when: state == "absent"

- include: bigip_monitor_tcp/manage_tcp_monitor.yml
  when: state == "absent"

- include: bigip_monitor_http/manage_http_monitor.yml
  when: state == "absent"

- include: bigip_pool/manage_pool.yml 
  when: state == "absent"

- include: bigip_node/remove_node.yml 
  when: state == "absent"
...
